<div class="box">
  <div class="row">
    <div class="column col-sm-12">

      <h2> <i class="fa fa-table"> </i> Tabla Cajas Ex-Régimen</h2>
      <div class="col-sm-12" ng-if="accesos.crear && accesos.abierto || accesos.editar && accesos.abierto">
        <button confirmation-click="editar()" confirmation-needed="{{ advertencia }}" type="button" class="btn btn-primary btn-xs pull-right" ng-class="{ 'hidden' : isEdit }"><i class="fa fa-lock"></i> Editar</button>
        <button ng-click="cancelar()" type="button" class="btn btn-primary btn-xs pull-right" ng-class="{ 'hidden' : !isEdit }">Cancelar</button>
        <button confirmation-click="guardar()" confirmation-needed="{{ confirmacion }}" type="button" class="btn btn-primary btn-xs pull-right" ng-class="{ 'hidden' : !isEdit }"><i class="fa fa-unlock-alt"></i> Guardar</button>
      </div>

      
      <div class="container text-center" ng-if="tabla.length==0 && cargado" style="margin-top: 60px;" >
        <i>Aún no se han ingresado datos</i>
      </div>

      <div class="col-sm-10 col-sm-offset-1" ng-if="tabla.length>0 && cargado" style="margin-top: 20px;">
        <table class="table table-striped table-hover"> 
          <thead>
            <tr>    
              <th class="col-sm-1">#</th>
              <th class="col-sm-3">Nombre</th>
              <th class="col-sm-2">Tasa (IPS)</th>
              <th class="col-sm-2">Fonasa</th>
              <th class="col-sm-2">Accidentes del Trabajo</th>
              <th class="col-sm-2">Total</th>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat="dato in tabla">
              <td>{{ $index + 1 }}</td>
              <td>{{ dato.caja.nombre }}</td>              
              <td>
                <span ng-if="!isEdit && dato.tasa!=0">{{ dato.tasa }}%</span>
                <span ng-if="!isEdit && dato.tasa==0">-</span>
                <span ng-if="isEdit"><input type="text" ng-model="input[$index]" style="width: 80px;"> %</span>
              </td>
              <td>
                <span ng-if="dato.tasa!=0">7%</span>
                <span ng-if="dato.tasa==0">-</span>
              </td>
              <td>
                <span ng-if="dato.tasa!=0">0.95%</span>
                <span ng-if="dato.tasa==0">-</span>
              </td>
              <td>
                <span ng-if="dato.tasa!=0">{{ dato.total }}%</span>
                <span ng-if="dato.tasa==0">-</span>
              </td>
            </tr>
          </tbody>                    
        </table>   
      </div> 

    </div>
  </div>  
</div>