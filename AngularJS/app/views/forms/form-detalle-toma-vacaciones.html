<div class="modal-header">
  <button type="button" class="close" ng-click="$dismiss()">
    <span aria-hidden="true">&times;</span><span class="sr-only">Close</span>
  </button>
  <h3 class="modal-title">Historial Vacaciones Devengadas</h3>
</div>
<div class="modal-body centered">
  <div class="panel panel-default">
    <div class="panel-heading">{{trabajador.nombreCompleto}}</div>
    <div class="panel-body">          

      <div class="container col-sm-12" style="margin-top: 40px;">

        <div class="col-sm-12">
          <div class="col-sm-4" ng-if="accesos.crear && accesos.editar && accesos.abierto">
            <a ng-click="ingresarVacaciones()" href="" class="btn btn-primary btn-xs"><i class="fa fa-plus"> </i> Ingresar Vacaciones</a>
          </div>
        </div>
        <div class="col-sm-12">
          <div class="col-sm-4" ng-if="accesos.crear && accesos.editar && accesos.abierto">
            <a ng-click="recalculoVacaciones()" href="" class="btn btn-primary btn-xs"><i class="fa fa-refresh"> </i> Recalcular Vacaciones</a>
          </div>
        </div>

        <div class="text-center" ng-if="vacaciones.tomaVacaciones.length==0" style="margin: 40px;" >
          <i>No se han ingresado datos</i>
        </div>
        
        <div class="col-sm-12" style="margin-top: 40px;" ng-if="vacaciones.tomaVacaciones.length>0">
          <table class="table table-striped table-hover">
            <thead>
              <tr>
                <th class="col-sm-1">#</th>
                <th class="col-sm-3">Desde</th>
                <th class="col-sm-3">Hasta</th>
                <th class="col-sm-1">Días</th>
                <th class="col-sm-3">Fecha Ingreso</th>
                <th class="col-sm-1"></th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="dato in vacaciones.tomaVacaciones">
                <td>{{ $index + 1 }}</td>
                <td>{{ dato.desde | date : "dd-MM-y" }}</td>
                <td>{{ dato.hasta | date : "dd-MM-y" }}</td>
                <td>{{ dato.dias }}</td>
                <td>{{ dato.fechaIngreso | date : "dd-MM-y" }}</td>
                <td>
                  <a href="" ng-if="accesos.eliminar && accesos.abierto || true" confirmation-click="eliminar(dato);" confirmation-needed="Se eliminarán los datos seleccionados. ¿Desea continuar?"><i class="fa fa-trash"></i></a> 
                </td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="col-sm-12" ng-if="vacaciones.tomaVacaciones.length>0">
          <div class="text-center">
            <b>TOTAL: {{ vacaciones.totalTomaVacaciones }}<span ng-if="vacaciones.totalTomaVacaciones!=1"> días</span><span ng-if="vacaciones.totalTomaVacaciones==1"> día</span></b>
          </div>
        </div>

      </div>        
    </div>
  </div>
  <div class="modal-footer">
    <div class="pull-right" style="padding: 6px;">
      <button ng-if="accesos.crear || accesos.editar && accesos.abierto" class="btn btn-primary" type="button" ng-click="guardar()">Guardar</button>
      <button class="btn btn-warning" type="button" ng-click="$dismiss()">Cerrar</button>
    </div>
  </div>
</div>
