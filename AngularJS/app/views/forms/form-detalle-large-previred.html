<div class="modal-header">
  <button type="button" class="close" ng-click="$dismiss()"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
  <h3 class="modal-title">Archivo Previred</h3>
</div>
<div class="modal-body">
  <div class="panel panel-default">
    <div class="panel-heading">Detalle {{ datos.nombre }}</div>

    <div class="panel-body">   

      <fieldset ng-if="detalle=='ccaf' && datos.total!=0">
        <legend>Caja de Compensación</legend>
        
        <div class="table-responsive">
          <table class="table table-striped table-hover">
            <thead>
              <tr>
                <th class="col-sm-2">RUT</th>
                <th class="col-sm-2">Nombre</th>
                <th class="col-sm-2">Renta Imponible</th>
                <th class="col-sm-2">Cotización</th>
                <th class="col-sm-2">Créditos Personales</th>
                <th class="col-sm-2">Descuento Dental</th>
                <th class="col-sm-2">Leasing</th>
                <th class="col-sm-2">Seguro</th>
                <th class="col-sm-2">Otros</th>
                <th class="col-sm-2">Total</th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="dato in datos.trabajadores">
                <td>{{ dato.rut }}</td>
                <td>{{ dato.nombreCompleto }}</td>
                <td>${{ dato.rentaImponible | currency :"":0 }}</td>
                <td>${{ dato.cotizacion | currency :"":0 }}</td>
                <td>${{ dato.creditos | currency :"":0 }}</td>
                <td>${{ dato.descuentoDental | currency :"":0 }}</td>
                <td>${{ dato.descuentosLeasing | currency :"":0 }}</td>
                <td>${{ dato.descuentosSeguro | currency :"":0 }}</td>
                <td>${{ dato.otrosDescuentos | currency :"":0 }}</td>
                <td>${{ dato.total | currency :"":0 }}</td>
              </tr>
              <tr>
                <td></td>
                <td></td>
                <td><b>Total:</b></td>
                <td><b>${{ datos.totalCotizacion | currency :"":0 }}</b></td>
                <td><b>${{ datos.totalCreditos | currency :"":0 }}</b></td>
                <td><b>${{ datos.totalDescuentoDental | currency :"":0 }}</b></td>
                <td><b>${{ datos.totalLeasing | currency :"":0 }}</b></td>
                <td><b>${{ datos.totalSeguro | currency :"":0 }}</b></td>
                <td><b>${{ datos.totalOtros | currency :"":0 }}</b></td>
                <td><b>${{ datos.total | currency :"":0 }}</b></td>
              </tr>
            </tbody>
          </table>
        </div>  

      </fieldset>

      <fieldset ng-if="detalle=='afp' && datos.afp.total>0">
        <legend>AFP</legend>
        
        <div class="col-sm-12">
          <table class="table table-striped table-hover">
            <thead>
              <tr>
                <th class="col-sm-2">RUT</th>
                <th class="col-sm-3">Nombre</th>
                <th class="col-sm-3">Renta Imponible</th>
                <th class="col-sm-2">Cotización</th>
                <th class="col-sm-2">SIS</th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="dato in datos.afp.trabajadores">
                <td>{{ dato.rut }}</td>
                <td>{{ dato.nombreCompleto }}</td>
                <td>${{ dato.rentaImponible | currency :"":0 }}</td>
                <td>${{ dato.trabajador | currency :"":0 }}</td>
                <td>${{ dato.empleador | currency :"":0 }}</td>
              </tr>
              <tr>
                <td></td>
                <td></td>
                <td><b>Total:</b></td>
                <td><b>${{ datos.afp.totalTrabajador | currency :"":0 }}</b></td>
                <td><b>${{ datos.afp.totalEmpleador | currency :"":0 }}</b></td>
              </tr>
            </tbody>
          </table>
        </div>  

      </fieldset>

      <fieldset ng-if="detalle=='afp' && datos.afp.total>0">
        <legend>Seguro de Cesantía</legend>
        
        <div class="col-sm-12">
          <table class="table table-striped table-hover">
            <thead>
              <tr>
                <th class="col-sm-2">RUT</th>
                <th class="col-sm-3">Nombre</th>
                <th class="col-sm-3">Renta Imponible</th>
                <th class="col-sm-2">AFC Empleador</th>
                <th class="col-sm-2">AFC Trabajador</th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="dato in datos.afp.trabajadores">
                <td>{{ dato.rut }}</td>
                <td>{{ dato.nombreCompleto }}</td>
                <td>${{ dato.rentaImponibleSeguroCesantia | currency :"":0 }}</td>
                <td>${{ dato.afcEmpleador | currency :"":0 }}</td>
                <td>${{ dato.afcTrabajador | currency :"":0 }}</td>
              </tr>
              <tr>
                <td></td>
                <td></td>
                <td><b>Total:</b></td>
                <td><b>${{ datos.afp.totalAfcEmpleador | currency :"":0 }}</b></td>
                <td><b>${{ datos.afp.totalAfcTrabajador | currency :"":0 }}</b></td>
              </tr>
            </tbody>
          </table>
        </div>  

      </fieldset>

      <fieldset ng-if="detalle=='afp' && datos.apvi.total>0">
        <legend>APVI</legend>
        
        <div class="col-sm-12">
          <table class="table table-striped table-hover">
            <thead>
              <tr>
                <th class="col-sm-3">RUT</th>
                <th class="col-sm-6">Nombre</th>
                <th class="col-sm-3">Total</th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="dato in datos.apvi.trabajadores">
                <td>{{ dato.rut }}</td>
                <td>{{ dato.nombreCompleto }}</td>
                <td>${{ dato.total | currency :"":0 }}</td>
              </tr>
              <tr>
                <td></td>
                <td><b>Total:</b></td>
                <td><b>${{ datos.apvi.total | currency :"":0 }}</b></td>
              </tr>
            </tbody>
          </table>
        </div>  
        
      </fieldset>

      <fieldset ng-if="detalle=='afp' && datos.apvc.total>0">
        <legend>APVC</legend>
        
        <div class="col-sm-12">
          <table class="table table-striped table-hover">
            <thead>
              <tr>
                <th class="col-sm-3">RUT</th>
                <th class="col-sm-6">Nombre</th>
                <th class="col-sm-3">Total</th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="dato in datos.apvc.trabajadores">
                <td>{{ dato.rut }}</td>
                <td>{{ dato.nombreCompleto }}</td>
                <td>${{ dato.total | currency :"":0 }}</td>
              </tr>
              <tr>
                <td></td>
                <td><b>Total:</b></td>
                <td><b>${{ datos.apvc.total | currency :"":0 }}</b></td>
              </tr>
            </tbody>
          </table>
        </div>  
        
      </fieldset>


    </div>
  </div>
</div>

<div class="modal-footer">
  <button class="btn btn-warning" type="button" ng-click="$dismiss()">Cerrar</button> 
</div>